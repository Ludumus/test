# WBA Analytics - Техническое задание - purchase

### <span style="color:darkgreen;">Интро</span>

На сайте и в приложениях iOS/Android пользователь может оформить заказ

### <span style="color:darkgreen;">Дополнительная информация</span>

При наличии в заказе двух и более идентичных товаров каждый товар должен быть представлен отдельным элементом массива, где значение **quantity** = 1.

### <span style="color:darkgreen;">Ожидаемый результат</span>

Событие `purchase` размечено вместе с атрибутами объектов **items** (Mobile SDK)/ **products** (Web SDK) согласно таблице ниже

### <span style="color:darkgreen;">Техническое задание</span>

**Событие:**
`purchase` - факт оформленного заказа

**Триггеры:**
Пользователь оформил заказ

**Кастомные параметры:**
`transaction_id` - уникальный ID заказа (string)

**Атрибуты товара:**

| Mobile SDK |  |  | Web SDK |  |  |
| --- | --- | --- | --- | --- | --- |
| Атрибут объекта "items" | Значение | Формат | Атрибут объекта "products" | Значение | Формат |
| id | ID товара | String | id | ID товара | String |
| name | Название товара | String | name | Название товара | String |
| brand | Бренд | String | brand | Бренд | String |
| variant | Вариант товара. Например, "Черный цвет" | String | variant | Вариант товара. Например, "Черный цвет" | String |
| price | Актуальная цена товара с учетом скидки | String (внутри Float64) | price | Актуальная цена товара с учетом скидки | Float64 |
| discount | Размер скидки на товар | Float64 | discount | Размер скидки на товар | Float64 |
| quantity | Кол-во единиц товара, всегда 1 | UInt32 | quantity | Кол-во единиц товара, всегда 1 | UInt32 |
| category | [ID категории 1 уровня или название, ID категории 2 уровня или название, ID категории 3 уровня или название, ID категории 4 уровня или название, ID категории 5 уровня или название] | Array of Strings | category | ID категории 1 уровня или название | String |
|  |  |  | category2 | ID категории 2 уровня или название | String |
|  |  |  | category3 | ID категории 3 уровня или название | String |
|  |  |  | category4 | ID категории 4 уровня или название | String |
|  |  |  | category5 | ID категории 5 уровня или название | String |
| rid | Уникальный ID заказа конкретной единицы товара в заказе (если есть) | String | rid | Уникальный ID заказа конкретной единицы товара в заказе (если есть) | String |

[Примеры вызовов функций](https://github.com/wildberries-tech/wba_analytics_docs/blob/develop/docs/example_function_call.md)